#summary How to use the source code.
#labels Featured,Phase-Deploy,Phase-Implementation

When I started this project, there were very few examples of Facebook apps built with ASP.NET. I made this project open source so that I could offer developers a complete example. The project is an IFrame Canvas app that uses the [http://facebooksdk.codeplex.com/ Facebook .NET SDK] to handle the Facebook integration.

<wiki:toc max_depth="2" />

=Project Structure=

The source code is in the following structure:
 * Database - database schema generated by [http://www.red-gate.com/products/sql-development/sql-source-control/ SQL Source Control]
 * SteamAchievements.Web - web MVC application
 * SteamAchievements.Data - data access layer
 * SteamAchievements.Data.Tests - data access layer tests
 * SteamAchievements.Services - service layer
 * SteamAchievements.Services.Tests - service layer tests
 * SteamAchievements.Updater - auto publish console application

=Compiling the Source=

You can compile the solution with Visual Studio 2010, [http://www.microsoft.com/express/downloads/ Visual Studio 2010 Express], [http://www.icsharpcode.net/opensource/sd/ SharpDevelop 4]. 

The ideal IDE is Visual Studio 2010 Pro with ReSharper, VisualSVN, and NuGet.

=Create your app on Facebook=

Follow the guide at http://developers.facebook.com/docs/guides/canvas/ to create your app on Facebook.

=Create your database=

The easiest way to create your database is to [http://www.red-gate.com/supportcenter/Content?p=SQL%20Source%20Control&c=SQL_Source_Control/help/2.0/SSC_WE_Setting_up.htm&toc=SQL_Source_Control/help/2.0/toc.htm check out the database with SQL Source Control]. Link the database to the following source control location: https://facebooksteamachievements.googlecode.com/svn/trunk/Database.

You can also run the scripts in the Tables folder to create the schema.

=Add settings for your Facebook app=

Update the following web.config settings. 

==Facebook .NET SDK==

Configure your Facebook app settings.

{{{
<facebookSettings
    appSecret="your facebook app secret"
    appId="your facebook app ID"
    canvasPage="http://apps.facebook.com/yourAppPath/"
    canvasUrl="http://www.example.com/yourAppPath/" />
}}}

See http://facebooksdk.codeplex.com for more information.

==Web Application==

{{{
<SteamAchievements.Web.Properties.Settings>
  <setting name="HelpUrl" serializeAs="String">
    <value>http://example.com/help</value>
  </setting>
  <setting name="TopAdMarkup" serializeAs="String">
    <value>&lt;p&gt;your ad code here&lt;/p&gt;</value>
  </setting>
  <setting name="BottomAdMarkup" serializeAs="String">
    <value>&lt;p&gt;your ad code here&lt;/p&gt;</value>
  </setting>
  <setting name="DisclaimerMarkup" serializeAs="String">
    <value>&lt;p&gt;Footer&lt;/p&gt;</value>
  </setting>
  <setting name="AnalyticsMarkup" serializeAs="String">
    <value>
        &lt;script type="text/javascript"&gt;
        // analytics script
        &lt;/script&gt;
    </value>
  </setting>
  <setting name="UserVoiceMarkup" serializeAs="String">
    <value>
        &lt;script type="text/javascript"&gt;
        // feedback script
        &lt;/script&gt;
    </value>
  </setting>
</SteamAchievements.Web.Properties.Settings>
}}}

Settings:
 * HelpUrl - Help page link.
 * TopAdMarkup, BottomAdMarkup - HTML encoded ad markup. This will support any html or javascript based ad markup.
 * DisclaimerMarkup - HTML encoded disclaimer/footer markup.
 * AnalyticsMarkup - HTML encoded [http://www.google.com/analytics/ Google Analytics]  markup.
 * UserVoiceMarkup - HTML encoded [http://uservoice.com UserVoice] markup for the Feedback button.

==Connection Strings==

Update the connection string for your database.

{{{
<connectionStrings>
    <add name="SteamAchievements.Data.Properties.Settings.steamConnectionString" 
    connectionString="Data Source=.\SQLEXPRESS;AttachDbFilename=|DataDirectory|\Steam.mdf;Integrated Security=True;User Instance=True"/>
</connectionStrings>
}}}